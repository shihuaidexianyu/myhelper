{
  "git_pull": {
    "id": "git_pull",
    "name": "Git代码拉取",
    "type": "shell_command",
    "description": "从Git仓库拉取最新代码",
    "command": "git pull origin {branch}",
    "timeout": 60,
    "retry_count": 2,
    "parameters": [
      {
        "name": "branch",
        "type": "string",
        "description": "要拉取的分支名称",
        "required": true,
        "default": "main"
      }
    ]
  },
  "build_app": {
    "id": "build_app",
    "name": "构建应用",
    "type": "shell_command",
    "description": "构建应用程序",
    "command": "npm run build",
    "timeout": 300,
    "retry_count": 1,
    "parameters": []
  },
  "deploy_app": {
    "id": "deploy_app",
    "name": "部署应用",
    "type": "shell_command",
    "description": "部署应用到指定环境",
    "command": "docker-compose -f docker-compose.{environment}.yml up -d",
    "timeout": 180,
    "retry_count": 1,
    "parameters": [
      {
        "name": "environment",
        "type": "string",
        "description": "部署环境",
        "required": true,
        "default": "production"
      }
    ]
  },
  "health_check": {
    "id": "health_check",
    "name": "健康检查",
    "type": "http_request",
    "description": "检查应用程序健康状态",
    "url": "http://localhost:8080/health",
    "timeout": 30,
    "retry_count": 3,
    "parameters": [
      {
        "name": "method",
        "type": "string",
        "description": "HTTP方法",
        "required": false,
        "default": "GET"
      },
      {
        "name": "timeout",
        "type": "integer",
        "description": "请求超时时间（秒）",
        "required": false,
        "default": 30
      }
    ]
  },
  "run_unit_tests": {
    "id": "run_unit_tests",
    "name": "运行单元测试",
    "type": "shell_command",
    "description": "执行单元测试",
    "command": "npm test",
    "timeout": 120,
    "retry_count": 1,
    "parameters": [
      {
        "name": "coverage",
        "type": "boolean",
        "description": "是否生成覆盖率报告",
        "required": false,
        "default": true
      }
    ]
  },
  "run_integration_tests": {
    "id": "run_integration_tests",
    "name": "运行集成测试",
    "type": "shell_command",
    "description": "执行集成测试",
    "command": "npm run test:integration",
    "timeout": 300,
    "retry_count": 1,
    "parameters": []
  },
  "generate_test_report": {
    "id": "generate_test_report",
    "name": "生成测试报告",
    "type": "shell_command",
    "description": "生成测试结果报告",
    "command": "npm run test:report",
    "timeout": 60,
    "retry_count": 0,
    "parameters": [
      {
        "name": "format",
        "type": "string",
        "description": "报告格式",
        "required": false,
        "default": "html"
      }
    ]
  },
  "create_db_backup": {
    "id": "create_db_backup",
    "name": "创建数据库备份",
    "type": "shell_command",
    "description": "创建数据库备份文件",
    "command": "mysqldump -u {username} -p{password} {database} > backup_{timestamp}.sql",
    "timeout": 600,
    "retry_count": 1,
    "parameters": [
      {
        "name": "username",
        "type": "string",
        "description": "数据库用户名",
        "required": true
      },
      {
        "name": "password",
        "type": "string",
        "description": "数据库密码",
        "required": true
      },
      {
        "name": "database",
        "type": "string",
        "description": "数据库名称",
        "required": true
      },
      {
        "name": "timestamp",
        "type": "string",
        "description": "时间戳",
        "required": false
      }
    ]
  },
  "verify_backup": {
    "id": "verify_backup",
    "name": "验证备份",
    "type": "shell_command",
    "description": "验证备份文件完整性",
    "command": "test -f {backup_file} && stat {backup_file}",
    "timeout": 30,
    "retry_count": 0,
    "parameters": [
      {
        "name": "backup_file",
        "type": "string",
        "description": "备份文件路径",
        "required": true
      }
    ]
  },
  "upload_backup": {
    "id": "upload_backup",
    "name": "上传备份",
    "type": "shell_command",
    "description": "将备份文件上传到云存储",
    "command": "aws s3 cp {backup_file} s3://{bucket}/{path}",
    "timeout": 300,
    "retry_count": 2,
    "parameters": [
      {
        "name": "backup_file",
        "type": "string",
        "description": "备份文件路径",
        "required": true
      },
      {
        "name": "bucket",
        "type": "string",
        "description": "S3存储桶名称",
        "required": true
      },
      {
        "name": "path",
        "type": "string",
        "description": "存储路径",
        "required": true
      }
    ]
  },
  "check_system_health": {
    "id": "check_system_health",
    "name": "系统健康检查",
    "type": "python_function",
    "description": "执行系统健康检查",
    "function": "app.tools.system_tools.check_system_health",
    "timeout": 60,
    "retry_count": 1,
    "parameters": [
      {
        "name": "check_cpu",
        "type": "boolean",
        "description": "是否检查CPU使用率",
        "required": false,
        "default": true
      },
      {
        "name": "check_memory",
        "type": "boolean",
        "description": "是否检查内存使用率",
        "required": false,
        "default": true
      },
      {
        "name": "check_disk",
        "type": "boolean",
        "description": "是否检查磁盘使用率",
        "required": false,
        "default": true
      }
    ]
  },
  "collect_metrics": {
    "id": "collect_metrics",
    "name": "收集性能指标",
    "type": "python_function",
    "description": "收集系统性能指标",
    "function": "app.tools.system_tools.collect_metrics",
    "timeout": 120,
    "retry_count": 0,
    "parameters": [
      {
        "name": "duration",
        "type": "integer",
        "description": "收集时长（秒）",
        "required": false,
        "default": 60
      }
    ]
  },
  "check_disk_space": {
    "id": "check_disk_space",
    "name": "检查磁盘空间",
    "type": "shell_command",
    "description": "检查磁盘空间使用情况",
    "command": "df -h",
    "timeout": 30,
    "retry_count": 0,
    "parameters": []
  },
  "send_notification": {
    "id": "send_notification",
    "name": "发送通知",
    "type": "http_request",
    "description": "发送通知到外部系统",
    "url": "https://hooks.slack.com/services/{webhook_path}",
    "timeout": 30,
    "retry_count": 2,
    "parameters": [
      {
        "name": "webhook_path",
        "type": "string",
        "description": "Webhook路径",
        "required": true
      },
      {
        "name": "message",
        "type": "string",
        "description": "通知消息",
        "required": true
      },
      {
        "name": "method",
        "type": "string",
        "description": "HTTP方法",
        "required": false,
        "default": "POST"
      },
      {
        "name": "json",
        "type": "object",
        "description": "JSON请求体",
        "required": false
      }
    ]
  }
}